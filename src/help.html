<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>帮助</title>
	<link rel="shortcut icon" href="img/icon/favicon.ico" type="image/x-icon" crossorigin="">
    <link rel="stylesheet" href="css/site.css">
</head>

<body>

<div class="header">
    <h1>
        <img src="img\icon\starLocator-2.png" style="margin-bottom:-10px; user-select: none;" alt="StarLocator"
                width="36" height="36"/>
        StarLocator 照片测星定位 <a href="https://qm.qq.com/q/nlFqV4jVfO">点击加入交流群</a>
        <a href="https://github.com/BengbuGuards/StarLocator" title="项目地址">
            <img src="img\icon\gitcat.png" style="float: right; margin-bottom:-10px;  margin-right: 10px" alt="GitHub" width="36" height="36"/>
        </a>
    </h1>
</div>
<div class="helpdiv">
<h1>帮助文档</h1>
<h2>这是什么？</h2>
<p>
    <b>StarLocator</b> 是一款基于任意照片测量的天文定位网页APP，您可以使用该程序对图片的大致拍摄地进行定位。定位所需条件为图中天体的辨识、复数铅垂线的存在以及拍摄时间。
</p>
<h2>如何使用？</h2>
<ol style="line-height:1.75;">
    <li>
        在中间测量栏点击“选择文件”按钮，打开一张有星星入镜的图片；
        <p class="desc">尽可能清晰。拖影、失焦或变形都可能会严重影响定位结果，但广角理论上不影响。</p>
    </li>
    <li>
        在左侧工具栏点击“天体选择”按钮，标记图中至少3个天体；<br />
        <p class="desc">* 天体要求清晰且尽可能在左右方向上间隔大一些，避免处于同一条垂直线上；</p>
    </li>
    <li>
        在下方的测量表的“名称”列中输入天体名称。<br />
        <p class="desc">* 当您选中某一行的名称空格时，对应天体的标记将在图中高亮显示。您可以使用星图软件（如
        <a href="https://stellarium.org">stellarium</a>或其<a href="https://stellarium-web.org">在线网页版</a>
        ）调节至大致的拍摄时间和地点，对照着对天体进行辨识。如遇困难可以加入讨论群尝试求助。</p>
    </li>
    <li>
        在右侧设置栏中输入照片拍摄的准确时间；<br />
        <p class="desc">若无法精确到秒，可在尾数中填入“30”。</p>
    </li>
    <li>
        在左侧工具栏点击“获取天体坐标”按钮，请注意：<br/>
        <ul style="color:#9f9f9f;">
            <li>该功能将视您的网络情况花费2~20秒不等的时间。</li>
            <li>本功能依赖于正确的天体名称和拍摄时间，请确保在使用该功能前正确设置了它们。（如果你改变了某天体名称或拍摄时间，请记得重新按下该按钮）</li>
            <li>本功能支持几乎所有的中文、外文星名。同时，我们提供了一个候选框以帮助你更好地确定正确的星名，其中包括了所有受支持的中文星名，但外文星名没有完全涵盖，某些生僻的外文星名事实上也受支持，详见<a href="https://simbad.cds.unistra.fr/simbad">SIMBAD</a>。</li>
            <li>本功能支持日月、太阳系八大行星和冥王星，但对于其他太阳系天体（如一些彗星）并不支持。你可以手动输入其坐标：请打开stellarium等星图软件，设置(0°N, 0°E)位置，查找拍摄时的星图中对应天体的时角和赤纬，自行填入表中。</li>
        </ul>
    </li>
    <li>
        在左侧工具栏点击“铅锤线标记”按钮，在图中标记铅垂线的首尾端点，最少需要标记2条铅垂线，即4个端点；<br />
        <p class="desc">照片中常见的铅垂线通常包含建筑物的侧棱、垂直的窗框、砖缝等等。铅垂线的选择以及标记准确与否对定位结果有极大的影响。铅垂线越多或者地平线越完整，定位结果将会越准确。</p>
    </li>
    <li>
        点击橙色的“计算”按钮，即可在右侧的结果栏查看结果，其中：<br />
        <ul style="color:#9f9f9f;">
            <li>像素焦距为焦平面到光心的像素距离。</li>
            <li>35mm焦距为将该像素焦距根据照片的分辨率换算得到的等效焦距。</li>
            <li>经度、纬度为定位点的经纬度，其中经度正值为东经、负值为西经，纬度正值为北纬、负值为南纬。</li>
        </ul>
    </li>
    <li>
        定位结果和⨦0.5分钟误差线将同时将显示在地图中，可通过滚轮和拖动查看。
    </li>
</ol>
<h2>未完成功能</h2>
<p>当前发布的StarLocator为先行版，仍有部分功能正在开发中，包括：</p>
<ul style="line-height:1.75;">
    <li><b>地平线标记</b> - 可以在没有铅垂线的地图上通过标记地平线进行大致定位，精度较低，可用于无人造物的宽阔野外场景。</li>
    <li><b>标月定时</b> - 可以标记图中的月球，计算其与其他天体的位置来获取时间。</li>
    <li><b>定向测量</b> - 可以计算图中任意一点相对相机镜头的方位角和高度角。</li>
    <li><b>水平透视</b> - 基于建筑物表面互相平行的水平线测量建筑物朝向的方位角。</li>
</ul>
<h2>FAQ</h2>
<ol style="line-height:1.75;">
    <li>照片中没有星星可以测吗？</li>
    <p class="desc">这里是建议您找一个算命的呢亲亲:)。</p>
    <li>照片中的星星怎么认？</li>
    <p class="desc">
        如果您完全不认得星星，可以在星图软件上对相近时间、相近地点的星空进行对比来寻找。如果照片中的星星较少，那么说明其他较暗的星星可能被光污染淹没了，需要从星图中较亮的星星中寻找。
    </p>
    <li>为什么一定要标记铅垂钱</li>
    <p class="desc">
        在确定的一个时刻，天上的星星与地上的位置是一一对应的，星空相当于一张地图，但光有地图可无法告诉您当前位置。所有的铅垂在星空中的焦点就相当于地图上的指针，用于指出照片的拍摄地。
    </p>
    <li>怎么误差这么大？</li>
    <p class="desc">
        该测量中最有可能带来误差的因素有镜头的几何畸变、时间误差、画面模糊拖影、选用的参考线不铅垂等。如果您知道拍摄的镜头型号，可以先在其他软件中进行镜头校正，让图像完美地成像于一个焦平面上，这样可以尽可能消除几何畸变带来的误差。时间哪怕只相差1分钟也可能带来约20km量级的误差，这是无法消除的，但其方向固定为东西方向。
    </p>
    <li>这是什么原理？</li>
    <p class="desc">
        该定位是将手机当作六分仪对天体的高度角进行测量，以双星定位法进行定位，核心原理可以参考：
        <a href="https://www.bilibili.com/video/BV1YW421973A">B站视频</a>
        以及
        <a href="https://www.bilibili.com/opus/871438831332622336">B站专栏</a>。
    </p>
</ol>
</div>
</body>

</html>
